WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'de.scandio.confluence.plugins.lively-blog:addLabelResources', location = '/lively/blog/js/add-label.js' */
AJS.toInit(function(c){if("blogpost"===AJS.params.contentType){var a='important';var b='confluence-administrators';AJS.bind("labels.dialog.open",function(g,f){c("#add-labels-editor-button").click(function(i){var h=c("#labels-string").val();h=h.replace(/,/g," ");h.split(" ").forEach(function(e){if(a===e){d(function(){AJS.$("#lively-blog-add-label-permission-error-message").remove();AJS.messages.warning("#label-operation-error-container",{id:"lively-blog-add-label-permission-error-message",title:"",body:AJS.format("You are not permitted to add the label \u0022{0}\u0022.",a)})})}})});c("#dialog-label-list .aui-icon-close").live("click",function(i){var h=c(this).parent().parent().find("a").html();if(a===h){d(function(){AJS.$("#lively-blog-add-label-permission-error-message").remove();AJS.messages.warning("#label-operation-error-container",{id:"lively-blog-add-label-permission-error-message",title:"",body:AJS.format("You are not permitted to remove the label \u0022{0}\u0022.",a)});var e=c("#dialog-label-list");AJS.Labels.addLabel(a,e.attr("entityid"),e.attr("entitytype"))})}});function d(e){c.ajax({type:"POST",contentType:"application/json",url:AJS.params.contextPath+"/rpc/json-rpc/confluenceservice-v2/getUserGroups",data:'["'+AJS.params.remoteUser+'"]'}).done(function(h){if(c.inArray(b,h)<0){e()}})}})}});
}catch(e){WRMCB(e)};